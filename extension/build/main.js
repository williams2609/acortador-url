(()=>{"use strict";var e={164:(e,s,r)=>{var a=r(43),t=r(391),n=r(475);r(421),r(885);const i=r.p+"static/media/large__5_-removebg-preview-removebg-preview.5fa747f8a13b092745fa.png";var l=r(216),c=r(579);const o=(0,a.createContext)(),d=e=>{let{children:s}=e;const[r,t]=(0,a.useState)((()=>!!localStorage.getItem("token"))),n=(0,l.Zp)();return(0,a.useEffect)((()=>{const e=()=>{const e=localStorage.getItem("token");t(!!e)};return window.addEventListener("storage",e),()=>{window.removeEventListener("storage",e)}}),[]),(0,c.jsx)(o.Provider,{value:{isLogged:r,login:e=>{localStorage.setItem("token",e),t(!0)},logout:()=>{localStorage.removeItem("token"),setTimeout((()=>{t(!1),n("./login")}),1e3)}},children:s})};const h=function(){const[e,s]=(0,a.useState)(!1),{isLogged:r}=(0,a.useContext)(o);return console.log("esta logeado?",r),(0,c.jsx)("nav",{className:"navbarr",children:(0,c.jsxs)("div",{className:"contenedor-navbar container d-flex align-items-center justify-content-between",children:[(0,c.jsx)("div",{className:"logo-navbar",style:{maxHeight:"100px"},children:(0,c.jsx)(n.N_,{to:"/",className:"logo",children:(0,c.jsx)("img",{className:"",src:i,alt:"Logo de Urlify",style:{maxWidth:"100px",maxHeight:"150px"}})})}),(0,c.jsxs)("div",{className:"hamburguer-button "+(e?"open":""),onClick:()=>s(!e),children:[(0,c.jsx)("div",{className:"bar top"}),(0,c.jsx)("div",{className:"bar middle"}),(0,c.jsx)("div",{className:"bar bottom"})]}),(0,c.jsxs)("div",{className:"nav-links col-md-10 col-xl-8 col-12 text-center justify-content-between "+(e?"show":""),children:[(0,c.jsxs)("div",{className:"text-center d-flex align-items-center",style:{flexDirection:"row"},children:[(0,c.jsx)(n.N_,{to:r?"/estadisticas":"/login",className:"nav-item",children:"Estadisticas"}),(0,c.jsxs)("li",{className:"nav-item dropdown",children:[(0,c.jsx)("button",{className:"nav-link dropdown-toggle",id:"resourcesDropdown","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Recursos"}),(0,c.jsxs)("ul",{className:"dropdown-menu","aria-labelledby":"resourcesDropdown",children:[(0,c.jsx)("li",{children:(0,c.jsx)(n.N_,{className:"dropdown-item",to:"/resources/api-key",children:"Documentacion Api"})}),(0,c.jsx)("li",{children:(0,c.jsx)(n.N_,{className:"dropdown-item",to:"/resources/generate-api-key",children:"Generar API Key"})})]})]}),(0,c.jsx)(n.N_,{to:"/Subscripci\xf3n",className:"nav-item",children:"Planes"})]}),(0,c.jsxs)("div",{className:"text-center align-items-center justify-content-center nav item",children:[r?(0,c.jsxs)(n.N_,{to:"/perfil",className:"nav-item",children:[(0,c.jsx)("i",{className:"bi bi-person-circle"})," Perfil"]}):(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(n.N_,{to:"/login",className:"nav-item",children:"Acceso "}),(0,c.jsx)(n.N_,{to:"/register",className:"p-2 rounded-5 empezar-gratis ms-3",children:"Comenzar Gratis"})]}),(0,c.jsx)("a",{href:"https://github.com/williams2609/acortador-url",style:{color:"blueviolet"},children:(0,c.jsx)("i",{className:"bi bi-github ms-3",style:{fontSize:"23px"}})})]})]})]})})};var m=r(213),x=r(88);const u=r.p+"static/media/grafico.6d37f55382ffd5957751.png",p=r.p+"static/media/Captura de pantalla 2024-11-12 104129.b53761e806f9df105ae5.png",j=r.p+"static/media/Captura de pantalla 2024-11-12 104141.fc5651687d8a5856f0c2.png";const g=function(){const[e,s]=(0,a.useState)(!1),[r,t]=(0,a.useState)(""),[n,i]=(0,a.useState)(""),[o,d]=(0,a.useState)(!1),[h,g]=(0,a.useState)(""),[b,f]=(0,a.useState)(),[v,N]=(0,a.useState)(""),y=(0,l.Zp)(),k=localStorage.getItem("token");return(0,a.useEffect)((()=>{if("Token invalido"===o){const e=setTimeout((()=>{y("/register")}),3e3);return()=>clearTimeout(e)}}),[o,y]),console.log("paga?",e),console.log(v),(0,c.jsxs)("div",{className:"contenedor-home",children:[(0,c.jsx)("section",{className:"hero",children:(0,c.jsxs)("div",{className:"container text-center",children:[(0,c.jsx)("h1",{className:"display-4 mt-5",children:"Transforma Tus Enlaces con URLify"}),(0,c.jsx)("p",{className:"lead mt-3",children:"Convierte enlaces largos en algo manejable y atractivo, perfecto para redes sociales, emails y m\xe1s."}),(0,c.jsx)("a",{href:"/Subscripci\xf3n",className:"btn btn-lg boton-prueba",style:{marginTop:"100px"},children:"\xa1Prueba URLify Gratis Ahora!"})]})}),(0,c.jsx)("section",{className:"features mt-5",children:(0,c.jsx)("div",{className:"container",children:(0,c.jsxs)("div",{className:"row text-center",children:[(0,c.jsxs)("div",{className:"col-md-4",children:[(0,c.jsx)("i",{className:"bi bi-link-45deg feature-icon"}),(0,c.jsx)("h3",{children:"Enlaces Personalizados"}),(0,c.jsx)("p",{children:"Crea URLs \xfanicas que reflejen tu marca y estilo."})]}),(0,c.jsxs)("div",{className:"col-md-4",children:[(0,c.jsx)("i",{className:"bi bi-graph-up feature-icon"}),(0,c.jsx)("h3",{children:"Analiza el Rendimiento"}),(0,c.jsx)("p",{children:"Obt\xe9n datos detallados sobre los clics y optimiza tus enlaces."})]}),(0,c.jsxs)("div",{className:"col-md-4",children:[(0,c.jsx)("i",{className:"bi bi-shield-lock feature-icon"}),(0,c.jsx)("h3",{children:"Seguridad Aumentada"}),(0,c.jsx)("p",{children:"Protege tus enlaces con tecnolog\xeda avanzada y medidas de seguridad."})]})]})})}),(0,c.jsxs)("section",{className:"shorten-url text-center mb-5 mt-5",children:[(0,c.jsx)("h2",{children:"Acorta tu URL en segundos"}),(0,c.jsx)("form",{onSubmit:async a=>{a.preventDefault(),d(""),t(""),g("");let i=n.trim();/^https?:\/\//i.test(i)||(i=`https://${i}`);try{const a=await m.A.get("https://xtrs4.onrender.com/users/me",{headers:{Authorization:`Bearer ${k}`}});N(a.data),s(v.is_paid_user);const n=await m.A.post("https://xtrs4.onrender.com/acortar",{original_url:i,short_url:b,requestType:"shorten"},{headers:{Authorization:`Bearer ${k}`}});if(r||t(`${n.data.short_url}`),n.data.expiration_date){const e=new Date(n.data.expiration_date);g(e.toLocaleString())}else e&&g("Sin Fecha De Expiracion")}catch(o){d(o.response?o.response.data.error:"Error Al Acortar El Url")}},className:"form-url d-flex flex-column align-items-center",children:(0,c.jsxs)("div",{className:"d-flex flex-column align-items-start",style:{width:"100%",maxWidth:"700px"},children:[(0,c.jsxs)("div",{className:"d-flex w-100 align-items-center mb-3",children:[(0,c.jsx)("input",{type:"text",name:"originalUrl",value:n,placeholder:"Ingrese una URL larga",onChange:e=>i(e.target.value),required:!0,className:"input-url",style:{flex:1,marginRight:"10px"}}),(0,c.jsx)("button",{className:"btn btn-primary btn-short",style:{width:"130px"},children:"Acortar URL"})]}),(0,c.jsx)("input",{type:"text",name:"short_url",className:"input-url",placeholder:"URL Personalizada (opcional)",style:{width:"80%"},onChange:e=>f(e.target.value)})]})}),r&&(0,c.jsxs)("div",{className:"result mt-3",children:[(0,c.jsx)("label",{children:"URL Acortada"}),(0,c.jsx)("a",{href:`https://xtrs4.onrender.com/${r}`,target:"_blank",rel:"noopener noreferrer",children:(0,c.jsx)("p",{className:"short-url",style:{color:"blue"},children:`https://xtrs4.onrender.com/${r}`})}),e?(0,c.jsx)("p",{children:"Sin Fecha De Expiraci\xf3n"}):(0,c.jsxs)("p",{children:["Fecha de expiraci\xf3n: ",h]})]}),o&&(0,c.jsx)(x.A,{variant:"danger",className:"mt-3",children:"Token invalido"!==o?o||"Ocurri\xf3 un error":"Necesitas Crear Una Cuenta"})]}),(0,c.jsx)("section",{className:"monitor",children:(0,c.jsxs)("div",{className:"container d-flex",children:[(0,c.jsxs)("div",{className:"description",children:[(0,c.jsx)("h3",{children:"Monitorea el Rendimiento de Cada URL en Tiempo Real"}),(0,c.jsx)("p",{children:"Accede a estad\xedsticas detalladas y optimiza el alcance de tus enlaces de forma f\xe1cil y efectiva."})]}),(0,c.jsx)("div",{className:"graphic",children:(0,c.jsx)("img",{src:u,alt:"Gr\xe1fico de Seguimiento de URL",className:"img-fluid rounded-3 shadow"})})]})}),(0,c.jsxs)("section",{className:"tutorial-section text-center mt-5",children:[(0,c.jsx)("h3",{children:"C\xf3mo Modificar una URL y Generar un C\xf3digo QR"}),(0,c.jsxs)("div",{className:"instruction",children:[(0,c.jsxs)("div",{className:"instruction-text",children:[(0,c.jsx)("h4",{children:"1. Modificar una URL"}),(0,c.jsx)("p",{children:'Para modificar una URL,Ve a la Seccion de Perfil, haz clic en el icono de edici\xf3n junto a la URL que deseas cambiar. Luego, escribe la nueva URL corta y presiona "Guardar".'})]}),(0,c.jsx)("div",{className:"instruction-image",children:(0,c.jsx)("img",{src:j,alt:"Ejemplo de c\xf3mo modificar una URL",className:"img-fluid rounded-3 shadow"})})]}),(0,c.jsxs)("div",{className:"instruction",children:[(0,c.jsxs)("div",{className:"instruction-text",children:[(0,c.jsx)("h4",{children:"2. Generar un C\xf3digo QR"}),(0,c.jsx)("p",{children:'Para crear un c\xf3digo QR de tu URL, selecciona la opci\xf3n "Generar QR" junto a la URL que has acortado. Si tienes una suscripci\xf3n v\xe1lida, el c\xf3digo QR aparecer\xe1 junto a la URL en tu lista.'})]}),(0,c.jsx)("div",{className:"instruction-image",children:(0,c.jsx)("img",{src:p,alt:"Ejemplo de c\xf3mo generar un c\xf3digo QR",className:"img-fluid rounded-3 shadow"})})]})]}),(0,c.jsxs)("section",{className:"testimonials text-center mt-5",children:[(0,c.jsx)("h4",{children:"Testimonios de Nuestros Usuarios"}),(0,c.jsxs)("blockquote",{className:"blockquote",children:[(0,c.jsx)("p",{children:"\u201cUsar este acortador ha cambiado la forma en que comparto enlaces. \xa1Totalmente recomendado!\u201d"}),(0,c.jsx)("footer",{children:"Mar\xeda L\xf3pez, Blogger"})]}),(0,c.jsxs)("blockquote",{className:"blockquote",children:[(0,c.jsx)("p",{children:"\u201cPersonalizar enlaces ha hecho que mi marca se vea m\xe1s profesional.\u201d"}),(0,c.jsx)("footer",{children:"Javier P\xe9rez, Emprendedor"})]})]})]})};var b=r(59);const f={basic:{name:"basico",price:"0.00"},platino:{name:"platino",price:"3.99"},diamante:{name:"diamante",price:"5.99"}},v=e=>{let{membershipType:s,onUpgrade:r}=e;const a=f[s];return console.log(a.price),(0,c.jsx)(b.ag,{options:{"client-id":"AcluDu8z_YEba59Bl-Nc3CvgGf0UlP0gbM_rkQb0s-Q8QP2c9HIvBCaM84hFEiS0gcY2k5ovBO6yAP8u"},children:(0,c.jsx)(b.JV,{createOrder:(e,s)=>s.order.create({purchase_units:[{amount:{value:a.price.toString()}}]}),onApprove:(e,a)=>a.order.capture().then((e=>{alert(`Transacci\xf3n completada por: ${e.payer.name.given_name}`),r(s),console.log(`el usuario a sido mejorado a ${s}`)})),onError:e=>{console.error("Error en la transacci\xf3n:",e),alert("Ocurri\xf3 un error en el proceso de pago. Por favor, intenta de nuevo.")}})})};const N=function(){const[e,s]=(0,a.useState)(""),[r,t]=(0,a.useState)(""),n=localStorage.getItem("token"),i=(0,l.Zp)(),o=[{name:"B\xe1sico",price:"$0 / mes",recommendedFor:"Principiantes",features:{enlacesCortos:"10",enlacesPersonalizados:"1",enlacesModificados:"Sin Acceso",codigosQr:"2 (Con Marca)",desecharEnlaces:"No disponible",graficos:"B\xe1sico"}},{name:"Platino",price:"$2.99 / mes",recommendedFor:"Trabajadores aut\xf3nomos",features:{enlacesCortos:"50",enlacesPersonalizados:"10",enlacesModificados:"5",codigosQr:"5",desecharEnlaces:"Ilimitado",graficos:"Avanzado"}},{name:"Diamante",price:"$5.99 / mes",recommendedFor:"Peque\xf1as Empresas",features:{enlacesCortos:"1000",enlacesPersonalizados:"Ilimitado",enlacesModificados:"Ilimitado",codigosQr:"50",desecharEnlaces:"Ilimitado",graficos:"Tiempo Real"}}],d=(0,a.useCallback)((async()=>{if(!n)return console.error("Sin token de verificaci\xf3n");try{const e=await m.A.get("https://xtrs4.onrender.com/users/me",{headers:{Authorization:`Bearer ${n}`}});s(e.data.id),t(e.data.subscriptionType)}catch(e){console.error("Error al intentar acceder al usuario",e)}}),[n]);(0,a.useEffect)((()=>{d()}),[d]);const h=async s=>{try{const r=localStorage.getItem("token"),a=await m.A.post("https://xtrs4.onrender.com/users/upgrade",{userId:e,membership:s},{headers:{Authorization:`Bearer ${r}`}});console.log(a.data.message)}catch(r){console.error("Error al actualizar la suscripci\xf3n:",r)}};return(0,c.jsxs)("div",{className:"subscripcion",children:[(0,c.jsxs)("div",{className:"jumbotron text-center text-white py-5 bg-gradient",style:{marginTop:"100px"},children:[(0,c.jsx)("h1",{className:"display-4",style:{color:"black"},children:"Elige el Plan de Suscripci\xf3n Perfecto para Ti"}),(0,c.jsx)("p",{className:"lead",style:{color:"black"},children:"Descubre todas las ventajas que ofrecemos con nuestros planes."})]}),(0,c.jsx)("div",{className:"container my-5",children:(0,c.jsx)("div",{className:"row text-center",children:o.map(((e,s)=>(0,c.jsx)("div",{className:"col-lg-4 col-md-6 col-12 mb-4",children:(0,c.jsxs)("div",{className:"card plan-card shadow-sm",children:[(0,c.jsx)("div",{className:"card-header "+(0===s?"bg-light":1===s?"bg-info text-white":"bg-dark text-white"),children:(0,c.jsx)("h4",{className:"card-title",children:e.name})}),(0,c.jsxs)("div",{className:"card-body",children:[(0,c.jsx)("h2",{className:"card-price text-"+(0===s?"primary":1===s?"info":"dark"),children:e.price}),(0,c.jsxs)("ul",{className:"list-unstyled mt-3 mb-4",children:[(0,c.jsxs)("li",{children:["Enlaces Cortos: ",e.features.enlacesCortos]}),(0,c.jsxs)("li",{children:["Enlaces Personalizados: ",e.features.enlacesPersonalizados]}),(0,c.jsxs)("li",{children:["Codigos Qr: ",e.features.codigosQr]}),(0,c.jsxs)("li",{children:["Desechar Enlaces: ",e.features.desecharEnlaces]})]}),"basic"===r&&s>0?(0,c.jsx)(v,{membershipType:e.name.toLowerCase(),onUpgrade:h}):r.toLowerCase()===e.name.toLowerCase()?(0,c.jsx)("h4",{className:"text-success",children:"Plan Actual"}):(0,c.jsx)("button",{className:"btn btn-outline-primary btn-block",onClick:()=>i("/register"),children:"Registrarse"})]})]})},s)))})}),(0,c.jsxs)("table",{className:"custom-table",children:[(0,c.jsx)("thead",{children:(0,c.jsxs)("tr",{children:[(0,c.jsx)("th",{}),o.map(((e,s)=>(0,c.jsx)("th",{children:e.name},s)))]})}),(0,c.jsxs)("tbody",{children:[(0,c.jsxs)("tr",{children:[(0,c.jsx)("td",{children:"Plan Mensual"}),o.map(((e,s)=>(0,c.jsx)("td",{style:{color:"black"},children:(0,c.jsx)("strong",{style:{fontSize:"2.2rem"},children:e.price})},s)))]}),(0,c.jsxs)("tr",{children:[(0,c.jsx)("td",{}),(0,c.jsx)("td",{children:!n&&(0,c.jsx)("button",{className:"btn btn-outline-primary btn-block rounded-5 btn-table",onClick:()=>i("/register"),children:"Registrarse"})}),(0,c.jsx)("td",{children:"basic"===r?(0,c.jsx)(v,{membershipType:"platino",onUpgrade:h}):"platino"===r?(0,c.jsx)("h4",{className:"text-success",children:"Plan Actual"}):""===r&&(0,c.jsx)("button",{className:"btn btn-outline-primary btn-block rounded-5 btn-table",onClick:()=>i("/register"),children:"Registrarse"})}),(0,c.jsx)("td",{children:"basic"===r||"platino"===r?(0,c.jsx)(v,{membershipType:"diamante",onUpgrade:h}):"diamante"===r?(0,c.jsx)("h4",{className:"text-success",children:"Plan Actual"}):(0,c.jsx)("button",{className:"btn btn-outline-primary btn-block rounded-5 btn-table",onClick:()=>i("/register"),children:"Registrarse"})})]}),(0,c.jsxs)("tr",{children:[(0,c.jsx)("td",{children:"Recomendado Para"}),o.map(((e,s)=>(0,c.jsx)("td",{children:e.recommendedFor},s)))]}),(0,c.jsx)("tr",{className:"linea-1 caracteristicas",children:(0,c.jsx)("td",{className:"negrita",style:{fontSize:"1rem"},children:"Caracter\xedsticas"})}),Object.keys(o[0].features).map(((e,s)=>(0,c.jsxs)("tr",{children:[(0,c.jsx)("td",{children:e.replace(/([A-Z])/g," $1")}),o.map(((s,r)=>(0,c.jsx)("td",{children:s.features[e]},r)))]},s)))]})]}),(0,c.jsxs)("div",{className:"container mt-5",children:[(0,c.jsx)("h2",{className:"text-center mb-4",children:"Beneficios de Nuestros Planes"}),(0,c.jsxs)("div",{className:"row",children:[(0,c.jsxs)("div",{className:"col-md-4 text-center p-4 benefit",children:[(0,c.jsx)("i",{className:"fas fa-chart-line fa-3x mb-3 text-primary"}),(0,c.jsx)("h5",{className:"mb-2",children:"Estad\xedsticas en Tiempo Real"}),(0,c.jsx)("p",{children:"Monitorea tus URLs en tiempo real con estad\xedsticas avanzadas."})]}),(0,c.jsxs)("div",{className:"col-md-4 text-center p-4 benefit",children:[(0,c.jsx)("i",{className:"fas fa-shield-alt fa-3x mb-3 text-info"}),(0,c.jsx)("h5",{className:"mb-2",children:"Alta Seguridad"}),(0,c.jsx)("p",{children:"Tus datos est\xe1n completamente seguros con cifrado avanzado."})]}),(0,c.jsxs)("div",{className:"col-md-4 text-center p-4 benefit",children:[(0,c.jsx)("i",{className:"fas fa-headset fa-3x mb-3 text-dark"}),(0,c.jsx)("h5",{className:"mb-2",children:"Soporte 24/7"}),(0,c.jsx)("p",{children:"Disfruta de soporte t\xe9cnico con un equipo dedicado."})]})]})]}),(0,c.jsxs)("div",{className:"container text-center my-5",children:[(0,c.jsx)("h2",{children:"\xbfListo para empezar?"}),(0,c.jsx)("p",{children:"Elige el plan que mejor se ajuste a tus necesidades."}),(0,c.jsx)("button",{className:"btn btn-lg btn-primary mt-3",children:"Suscribirse Ahora"})]})]})};const y=function(){const[e,s]=(0,a.useState)({name:"",password:""}),{login:r}=(0,a.useContext)(o),[t,n]=(0,a.useState)({}),[i,d]=(0,a.useState)(""),h=(0,l.Zp)(),x=r=>{const{name:a,value:t}=r.target;s({...e,[a]:t})};return(0,c.jsxs)("div",{className:"contenedor-login d-flex justify-content-center align-items-center",children:[(0,c.jsxs)("div",{className:"login-form-wrapper",children:[(0,c.jsx)("h3",{children:"Iniciar Sesi\xf3n"}),(0,c.jsxs)("form",{onSubmit:async s=>{s.preventDefault();let a={};if(d(""),e.name||(a.name="Ingrese un nombre de usuario"),e.password||(a.password="La contrase\xf1a es obligatoria"),Object.keys(a).length>0)return n(a);n({});try{const s=await m.A.post("https://xtrs4.onrender.com/users/login",{username:e.name,password:e.password});console.log(s.data),d(s.data.message);const{token:a}=s.data;localStorage.setItem("token",a),r(a),console.log(a),h("/perfil")}catch(t){n(t)}},children:[(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{className:"mb-2",children:"Nombre De Usuario:"}),(0,c.jsx)("input",{className:"form-control "+(t.name?"is-invalid":""),name:"name",type:"text",value:e.name,onChange:x,placeholder:"Ingresa tu nombre"}),t.name&&(0,c.jsx)("div",{className:"invalid-feedback",children:t.name}),(0,c.jsx)("label",{className:"mt-3 mb-2",children:"Contrase\xf1a:"}),(0,c.jsx)("input",{className:"form-control "+(t.password?"is-invalid":""),name:"password",type:"password",value:e.password,onChange:x,placeholder:"Ingresa tu contrase\xf1a"}),t.password&&(0,c.jsx)("div",{className:"invalid-feedback",children:t.password})]}),i&&(0,c.jsx)("p",{className:"alert alert-success mt-3",children:i}),(0,c.jsx)("button",{type:"submit",className:"btn btn-primary mt-4",children:"Ingresar"})]})]}),(0,c.jsxs)("div",{className:"contenedor-register d-flex align-items-center mb-2",children:[(0,c.jsx)("div",{className:"separador mt-3 me-3"}),(0,c.jsx)("div",{className:"mt-3",children:"No tienes Cuenta"}),(0,c.jsx)("div",{className:"separador mt-3 ms-3"})]}),(0,c.jsx)("div",{children:(0,c.jsx)("a",{className:"boton-register border p-2 rounded-3",href:"/register",children:(0,c.jsx)("strong",{children:"Registrate"})})})]})};const k=function(){const[e,s]=(0,a.useState)({name:"",email:"",password:"",repeatPassword:"",phoneNumber:""}),[r,t]=(0,a.useState)({}),[n,i]=(0,a.useState)(!1),l=r=>{const{name:a,value:t}=r.target;s({...e,[a]:t})};return(0,c.jsx)("main",{className:"login-container",children:(0,c.jsxs)("div",{className:"login-form-wrapper",children:[(0,c.jsx)("h3",{children:"Crear Usuario"}),(0,c.jsxs)("form",{onSubmit:async s=>{s.preventDefault(),t({}),i(!1);let r={};if(e.name||(r.name="El nombre es obligatorio"),e.email?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.email)||(r.email="Formato de email inv\xe1lido"):r.email="El email es obligatorio",e.password?e.password.length<6&&(r.password="La contrase\xf1a debe tener al menos 6 caracteres"):r.password="La contrase\xf1a es obligatoria",e.password!==e.repeatPassword&&(r.repeatPassword="Las contrase\xf1as no coinciden"),e.phoneNumber||(r.phoneNumber="El n\xfamero de tel\xe9fono es obligatorio"),Object.keys(r).length>0)return t(r);try{const s=await m.A.post("https://https://xtrs4.onrender.com/users/register",{username:e.name,password:e.password,email:e.email,phone_number:e.phoneNumber});console.log(s.data),i(!0)}catch(l){var a,n;const e=(null===(a=l.response)||void 0===a||null===(n=a.data)||void 0===n?void 0:n.error)||"Error en el servidor";t((s=>({...s,email:e.includes("email")?e:s.email,name:e.includes("username")?e:s.name})))}},children:[(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{children:"Nombre"}),(0,c.jsx)("input",{type:"text",name:"name",className:"form-control "+(r.name?"is-invalid":""),onChange:l,placeholder:"Ingresa tu nombre"}),r.name&&(0,c.jsx)("div",{className:"invalid-feedback",children:r.name})]}),(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{children:"Email"}),(0,c.jsx)("input",{type:"email",name:"email",className:"form-control "+(r.email?"is-invalid":""),onChange:l,placeholder:"Ingresa tu email"}),r.email&&(0,c.jsx)("div",{className:"invalid-feedback",children:r.email})]}),(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{children:"Contrase\xf1a"}),(0,c.jsx)("input",{type:"password",name:"password",className:"form-control "+(r.password?"is-invalid":""),onChange:l,placeholder:"Ingresa tu contrase\xf1a"}),r.password&&(0,c.jsx)("div",{className:"invalid-feedback",children:r.password})]}),(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{children:"Repetir Contrase\xf1a"}),(0,c.jsx)("input",{type:"password",name:"repeatPassword",className:"form-control "+(r.repeatPassword?"is-invalid":""),onChange:l,placeholder:"Repite tu contrase\xf1a"}),r.repeatPassword&&(0,c.jsx)("div",{className:"invalid-feedback",children:r.repeatPassword})]}),(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{children:"N\xfamero M\xf3vil"}),(0,c.jsx)("input",{type:"text",name:"phoneNumber",className:"form-control "+(r.phoneNumber?"is-invalid":""),onChange:l,placeholder:"Ingresa tu n\xfamero m\xf3vil"}),r.phoneNumber&&(0,c.jsx)("div",{className:"invalid-feedback",children:r.phoneNumber})]}),n&&(0,c.jsx)("div",{className:"alert alert-success",children:"Usuario creado correctamente"}),(0,c.jsx)("button",{type:"submit",className:"btn btn-primary btn-block",children:"Crear Usuario"})]})]})})};var w=r(58),A=r(461);A.t1.register(...A.$L);const R=function(){const e=(0,a.useRef)({}),[s,r]=(0,a.useState)(null),[t,n]=(0,a.useState)([]),[i,d]=(0,a.useState)(null),[h,x]=(0,a.useState)({}),[u,p]=(0,a.useState)(null),[j,g]=(0,a.useState)(null),b=(0,l.Zp)(),[f,v]=(0,a.useState)(!0),[N,y]=(0,a.useState)({}),{logout:k}=(0,a.useContext)(o),A=localStorage.getItem("token"),R=(0,a.useCallback)((async()=>{if(A){v(!0),d(null);try{const[e,s]=await Promise.all([m.A.get("https://xtrs4.onrender.com/users/me",{headers:{Authorization:`Bearer ${A}`}}),m.A.get("https://xtrs4.onrender.com/user-urls",{headers:{Authorization:`Bearer ${A}`}})]);r(e.data),n(s.data),console.log(s.data)}catch(e){e.response&&401===e.response.status?(localStorage.removeItem("token"),b("/login")):d(e.response?e.response.data:"Error de conexi\xf3n")}finally{v(!1)}}}),[A,b]);(0,a.useEffect)((()=>{R()}),[R]),console.log(s),(0,a.useEffect)((()=>{x({totalUrls:t.length})}),[t]);const S=e=>{p((s=>s===e?null:e))},C=(0,a.useMemo)((()=>{const{labels:e,data:r}=s?((e,s)=>{const r={},a=new Date(s),t=new Date;let n=new Date(a);for(;n<=t;){const e=n.toLocaleDateString();r[e]=0,n.setDate(n.getDate()+1)}return e.forEach((e=>{const s=new Date(e.createdAt);if(!isNaN(s)){const e=s.toLocaleDateString();void 0!==r[e]&&(r[e]+=1)}})),{labels:Object.keys(r),data:Object.values(r)}})(t,s.createdAt):{labels:[],data:[]};return{labels:e.length>0?e:["Sin datos"],datasets:[{label:"URLs Acortadas por Fecha",data:r.length>0?r:[0],fill:!1,backgroundColor:"rgba(75, 192, 192, 0.6)",borderColor:"rgba(75, 192, 192, 1)",borderWidth:2,tension:.4}]}}),[t,s]),L=e=>e.startsWith("http://")||e.startsWith("https://")?e:`https://${e}`;return f?(0,c.jsx)("p",{children:"Cargando..."}):(0,c.jsxs)("div",{className:"perfil-container mt-5",children:[(0,c.jsxs)("div",{className:"sidebar mt-2",children:[(0,c.jsx)("h2",{children:null===s||void 0===s?void 0:s.username}),(0,c.jsxs)("p",{children:["Miembro desde: ",null===s||void 0===s?void 0:s.createdAt.split("T")[0]]}),(0,c.jsxs)("p",{children:["Tipo de Subscripci\xf3n: ",null===s||void 0===s?void 0:s.subscriptionType," "]}),(0,c.jsxs)("p",{children:["Total de URLs Acortadas: ",h.totalUrls]}),(0,c.jsxs)("button",{onClick:()=>k(),className:"cerrar-sesion btn btn-warning p-2","aria-label":"Cerrar sesi\xf3n",children:["Cerrar Sesi\xf3n ",(0,c.jsx)("i",{className:"ms-2 bi bi-box-arrow-right"})]})]}),(0,c.jsxs)("div",{className:"perfil-main",children:[i&&(0,c.jsx)("p",{className:"error",children:i.message||JSON.stringify(i)}),(0,c.jsx)("header",{className:"header mt-2",children:s&&(0,c.jsxs)("h2",{className:"welcome-msg",children:["Bienvenido, ",s.username]})}),(0,c.jsxs)("section",{className:"urls-list flex-wrap",children:[(0,c.jsx)("h3",{children:"Mis URLs Acortadas"}),(0,c.jsx)("ul",{children:t.map((s=>(0,c.jsxs)("li",{className:"url-item",children:[(0,c.jsx)("a",{href:L(s.original_url),target:"_blank",rel:"noopener noreferrer",className:"url-link","aria-label":`Abrir URL original: ${s.original_url}`,children:s.original_url}),(0,c.jsxs)("div",{children:[i&&(0,c.jsx)("p",{className:"invalid-feedback",children:"Necesitas una Subscripcion para Generar Qr"}),s.qr_code&&(0,c.jsx)("img",{src:s.qr_code,alt:"C\xf3digo QR",className:"qr-code-img"})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("span",{className:"base-url",children:"https://xtrs4.onrender.com/"}),(0,c.jsx)("span",{className:"short-url-editable base-url"+(j===s.id?"highlight":""),contentEditable:j===s.id,suppressContentEditableWarning:j===s.id,ref:r=>e.current[s.id]=r,"aria-label":`Editar URL corta: ${s.short_url}`,children:s.short_url}),j===s.id&&(0,c.jsx)("button",{onClick:()=>{var r;const a=(null===(r=e.current[s.id])||void 0===r?void 0:r.innerText.trim()).replace("https://xtrs4.onrender.com/","");a&&a!==s.short_url&&(async(e,s,r)=>{const a=localStorage.getItem("token");if(a)try{await m.A.put(`https://xtrs4.onrender.com/modificar/${r}`,{new_short_url:s},{headers:{Authorization:`Bearer ${a}`}}),n((r=>r.map((r=>r.id===e?{...r,short_url:s}:r)))),g(null)}catch(t){console.error("Error interno en Edit URL:",t),d("Error al editar la URL")}})(s.id,a,s.short_url)},className:"btn btn-primary ms-2 boton-guardar","aria-label":"Guardar cambios",children:"Guardar"}),(0,c.jsx)("i",{className:"bi bi-three-dots-vertical ms-3",onClick:()=>S(s.id),style:{cursor:"pointer"},"aria-label":"Opciones de edici\xf3n"}),u===s.id&&(0,c.jsx)("div",{className:"d-flex align-items-center justify-content-end",children:(0,c.jsxs)("div",{className:"edit-url",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("span",{onClick:()=>(async e=>{const s=localStorage.getItem("token");try{const r=await m.A.delete(`https://xtrs4.onrender.com/eliminar/${e}`,{headers:{Authorization:`Bearer ${s}`}});n((s=>s.filter((s=>s.short_url!==e)))),console.log(r)}catch(r){console.error("Error al intentar acceder a la ruta delete:",r.response?r.response.data:r),403===r.status?d("Necesitas una SUBSCRIPCION para eliminar una URL"):d("Error al eliminar la URL")}})(s.short_url),"aria-label":"Eliminar URL",children:"Eliminar"}),(0,c.jsx)("i",{className:"bi bi-trash ms-2"})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("span",{onClick:()=>{var e;e=s.id,g(e),S(s.id)},"aria-label":"Editar URL",children:"Editar"}),(0,c.jsx)("i",{className:"bi bi-pencil-square ms-2"})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("span",{onClick:()=>{(async(e,s)=>{try{const r=await m.A.put(`https://xtrs4.onrender.com/generateQr/${s}`,{},{headers:{Authorization:`Bearer ${A}`}});r.data.qr_code&&y((s=>({...s,[e]:r.data.qr_code}))),console.log(N)}catch(r){console.error("error al intentar ingresan en /generateQr",r),403===r.status&&d("Necesitas Una SUBSCRIPCI\xd3N para poder Generar QR")}})(s.id,s.short_url)},className:"me-2",children:"Generar Qr"}),(0,c.jsx)("i",{className:"fas fa-qrcode"})]})]})})]})]},s.id)))})]}),(0,c.jsxs)("section",{className:"grafico",children:[(0,c.jsx)("h3",{children:"Estad\xedsticas de URLs Acortadas"}),(0,c.jsx)(w.N1,{data:C,options:{responsive:!0,scales:{y:{beginAtZero:!0,title:{display:!0,text:"Cantidad de URLs"}},x:{title:{display:!0,text:"Fecha"}}},plugins:{tooltip:{callbacks:{label:e=>`Cantidad: ${e.parsed.y}`}}}}})]}),(0,c.jsx)("section",{className:"generate-api-key p-4",children:(0,c.jsx)("div",{className:"d-flex p-5",children:(0,c.jsxs)("div",{className:"api-key-wrapper col-12 col-md-6 ",children:[(0,c.jsx)("strong",{className:"mb-5",children:"apiKey"}),(0,c.jsx)("pre",{className:"api-key-block",children:(0,c.jsx)("code",{children:s.api_token})})]})})})]})]})};const S=function(e){let{urls:s=[],viewOption:r,url:t}=e;const n=(0,a.useMemo)((()=>{let e=[],a=[];if("total"===r){const r=new Date((null===t||void 0===t?void 0:t.createdAt)||new Date),n={};for(let e=0;e<12;e++){const s=new Date(r);s.setMonth(r.getMonth()+e);const a=`${s.getFullYear()}-${String(s.getMonth()+1).padStart(2,"0")}`;n[a]=0}s.forEach((e=>{if(e.click_time){const s=e.click_time.slice(0,7);void 0!==n[s]&&(n[s]+=e.clicks||0)}})),e=Object.keys(n),a=Object.values(n)}else if("day"===r){const r=new Date,t=new Date(r);t.setMonth(t.getMonth()-1);const n={};for(let e=new Date(t);e<=r;e.setDate(e.getDate()+1)){const s=e.toISOString().split("T")[0];n[s]=0}s.forEach((e=>{e.date&&(n[e.date]=e.clicks||0)})),e=Object.keys(n),a=Object.values(n)}else if("hour"===r){const r=new Date,t=new Date(r);t.setHours(t.getHours()-23);const n={};for(let e=new Date(t);e<=r;e.setHours(e.getHours()+1)){const s=e.toISOString().slice(0,13)+":00:00";n[s]=0}s.forEach((e=>{if(e.hour){const s=new Date(e.hour).toISOString().slice(0,14)+"00:00",r=e.hour;void 0!==n[s]&&(n[r]=e.clicks)}})),e=Object.keys(n),a=Object.values(n)}else e=["Sin datos"],a=[0];return{labels:e,datasets:[{label:"total"===r?"Total de Clics por Mes desde Creaci\xf3n":"Clics en URLs Acortadas",data:a,backgroundColor:"rgba(54, 162, 235, 0.6)",borderColor:"rgba(54, 162, 235, 1)",borderWidth:1,fill:!1,tension:.4}]}}),[s,r,t]),i={responsive:!0,scales:{y:{beginAtZero:!0,title:{display:!0,text:"N\xfamero de Clics"}},x:{title:{display:!0,text:"day"===r?"Fecha":"hour"===r?"Hora":"Mes"}}}};return"total"===r?(0,c.jsx)(w.yP,{data:n,options:i}):(0,c.jsx)(w.N1,{data:n,options:i})};var C=r(258),L=r(72),U=r(602),_=r(814);const P=function(){const[e,s]=(0,a.useState)([]);(0,a.useEffect)((()=>{(async()=>{const e=localStorage.getItem("token");try{const r=(await m.A.get("https://xtrs4.onrender.com/urls-clicks",{headers:{Authorization:`Bearer ${e}`}})).data.sort(((e,s)=>s.total_clicks-e.total_clicks));s(r)}catch(r){console.error("Error al obtener datos de URLs y clics:",r)}})()}),[]);const r={labels:e.map((e=>e.short_url)),datasets:[{label:"Total de Clics",data:e.map((e=>e.total_clicks)),backgroundColor:"rgba(54, 162, 235, 0.6)",borderColor:"rgba(54, 162, 235, 1)",borderWidth:1}]};return(0,c.jsxs)("div",{children:[(0,c.jsx)("h3",{className:"text-center",children:"Total de Clics por URL"}),(0,c.jsx)(w.yP,{data:r,options:{responsive:!0,scales:{y:{beginAtZero:!0,title:{display:!0,text:"N\xfamero de Clics"}},x:{title:{display:!0,text:"URLs Acortadas"}}},plugins:{legend:{display:!0,position:"top"}}}})]})};const E=function(){const[e,s]=(0,a.useState)([]),[r,t]=(0,a.useState)({}),[n,i]=(0,a.useState)("total"),[o,d]=(0,a.useState)([]),[h,x]=(0,a.useState)(null),[u,p]=(0,a.useState)({}),j=(0,l.Zp)(),g=(0,a.useCallback)((async()=>{const e=localStorage.getItem("token");try{const s=await m.A.get("https://xtrs4.onrender.com/users/me",{headers:{Authorization:`Bearer ${e}`}});t(s.data)}catch(s){if(s.response&&403===s.response.status){const e=s.response.data.error;alert(e),j("/Subscripci\xf3n")}console.error("Error al intentar acceder a los datos del usuario:",s)}}),[j]),b=(0,a.useCallback)((async()=>{const e=localStorage.getItem("token");try{const r=await m.A.get("https://xtrs4.onrender.com/user-urls",{headers:{Authorization:`Bearer ${e}`}});s(Array.isArray(r.data)?r.data:[]),r.data.length>0&&!h&&(x(r.data[0].id),p(r.data[0]))}catch(r){console.error("Error al intentar obtener las URLs del usuario:",r)}}),[h]),f=(0,a.useCallback)((async()=>{const e=localStorage.getItem("token");if(h)try{let s;"total"===n?s=await m.A.get("https://xtrs4.onrender.com/clicks/total",{headers:{Authorization:`Bearer ${e}`},params:{url_id:h}}):"day"===n?s=await m.A.get("https://xtrs4.onrender.com/clicks/daily",{headers:{Authorization:`Bearer ${e}`},params:{url_id:h}}):"hour"===n&&(s=await m.A.get("https://xtrs4.onrender.com/clicks/hourly",{headers:{Authorization:`Bearer ${e}`},params:{url_id:h}})),d(s?s.data:[])}catch(s){console.error("Error al intentar obtener los datos de clics:",s)}}),[h,n]);return(0,a.useEffect)((()=>{g(),b()}),[b,g]),(0,a.useEffect)((()=>{f()}),[n,h,f]),(0,a.useEffect)((()=>{const s=e.find((e=>e.id===h));p(s||{})}),[h,e]),(0,c.jsx)("div",{className:"mt-5 contenedor-estadisticas d-flex justify-content-center",children:(0,c.jsxs)("div",{className:"row container",children:[(0,c.jsx)(C.A,{className:"mb-4 p-4 shadow-sm rounded-top-0",children:(0,c.jsxs)(C.A.Body,{children:[(0,c.jsx)(C.A.Title,{className:"text-center",children:"Resumen General"}),(0,c.jsxs)(L.A,{className:"text-center mt-3",children:[(0,c.jsxs)(U.A,{xs:12,md:4,children:[(0,c.jsx)("h5",{children:"URLs Acortadas"}),(0,c.jsx)("p",{children:e.length})]}),(0,c.jsxs)(U.A,{xs:12,md:4,children:[(0,c.jsx)("h5",{children:"Clics Totales"}),(0,c.jsx)("p",{children:e.reduce(((e,s)=>e+Number(s.click_count||0)),0)})]}),(0,c.jsxs)(U.A,{xs:12,md:4,children:[(0,c.jsx)("h5",{children:"Usuario Desde"}),(0,c.jsx)("p",{children:new Date(r.createdAt).toLocaleDateString()})]})]})]})}),(0,c.jsxs)(C.A,{className:"mt-5 text-center shadow",children:[(0,c.jsx)("h3",{className:"mt-3",children:"Estad\xedsticas de URLs Acortadas"}),r.createdAt&&e.length>0?(0,c.jsx)(P,{}):(0,c.jsx)("p",{children:"Cargando datos de URLs..."})]}),(0,c.jsxs)(C.A,{className:"mt-4 shadow mb-4",children:[(0,c.jsx)("div",{className:"text-center mt-3",children:(0,c.jsx)("h3",{children:"Estad\xedsticas de Clics en URLs"})}),(0,c.jsxs)(_.A.Group,{className:"mb-3",children:[(0,c.jsx)(_.A.Label,{children:"URL"}),(0,c.jsxs)(_.A.Select,{value:h||"",onChange:e=>x(Number(e.target.value)),"aria-label":"Selecciona una URL corta",children:[(0,c.jsx)("option",{value:"",disabled:!0,children:"Selecciona una URL"}),e.map((e=>(0,c.jsx)("option",{value:e.id,children:e.short_url},e.id)))]})]}),(0,c.jsxs)(_.A.Group,{children:[(0,c.jsx)(_.A.Label,{children:"Ver clics:"}),(0,c.jsxs)(_.A.Select,{value:n||"",onChange:e=>i(e.target.value),"aria-label":"Ingrese un rango de tiempo",children:[(0,c.jsx)("option",{disabled:!0,value:"",children:"Selecciona un Rango de Tiempo"}),(0,c.jsx)("option",{value:"total",children:"Total"}),(0,c.jsx)("option",{value:"day",children:"Por D\xeda"}),(0,c.jsx)("option",{value:"hour",children:"Por Hora"})]})]}),o.length>0?(0,c.jsx)(S,{urls:o,viewOption:n,url:u}):(0,c.jsx)("p",{children:"No hay Clicks Registrados"})]})]})})};const I=function(){return(0,c.jsxs)("div",{className:"container my-5",children:[(0,c.jsxs)("header",{className:"text-center mb-5",style:{marginTop:"150px",marginBottom:"50px"},children:[(0,c.jsx)("h1",{children:"Documentaci\xf3n de la API de Acortador de URLs"}),(0,c.jsx)("p",{className:"lead",children:"Todo lo que necesitas saber para integrar y utilizar la API."})]}),(0,c.jsxs)("section",{className:"mb-5",children:[(0,c.jsx)("h2",{children:"Introducci\xf3n"}),(0,c.jsx)("p",{children:"La API de acortador de URLs permite a los usuarios acortar URLs, crear URLs personalizadas, modificar URLs existentes, generar c\xf3digos QR y obtener estad\xedsticas de clics en las URLs acortadas. Soporta autenticaci\xf3n mediante:"}),(0,c.jsx)("ul",{children:(0,c.jsxs)("li",{children:[(0,c.jsx)("strong",{children:"API Key"})," (desarrolladores)"]})}),(0,c.jsx)("h5",{children:"\xbfC\xf3mo generar mi API Key?"}),(0,c.jsx)("p",{children:"La API Key es un identificador \xfanico que te permite autenticarte como desarrollador en nuestras rutas. Este identificador es necesario para acceder a funcionalidades avanzadas de la API. Sigue los pasos a continuaci\xf3n para generar tu API Key:"}),(0,c.jsxs)("ul",{children:[(0,c.jsx)("li",{children:"Inicia sesi\xf3n en tu cuenta de usuario."}),(0,c.jsxs)("li",{children:["Navega a la secci\xf3n ",(0,c.jsx)("strong",{children:"Recursos"})," y selecciona la opci\xf3n ",(0,c.jsx)("strong",{children:"Generar API Key"}),"."]}),(0,c.jsx)("li",{children:"Confirma la generaci\xf3n de tu API Key. Si ya tienes una, el sistema te lo notificar\xe1."})]}),(0,c.jsx)("p",{children:"Recuerda mantener tu API Key segura y no compartirla con terceros. Si sospechas que ha sido comprometida, solicita una nueva desde el mismo panel."})]}),(0,c.jsxs)("section",{className:"mb-5",children:[(0,c.jsx)("h2",{children:"Autenticaci\xf3n"}),(0,c.jsx)("h3",{children:"Uso de API Key (Desarrolladores)"}),(0,c.jsx)("p",{children:"Incluye la API Key en los headers de la solicitud:"}),(0,c.jsx)("code",{children:"x-api-key: <api_key>"})]}),(0,c.jsxs)("section",{className:"mb-5",children:[(0,c.jsx)("h2",{children:"Gesti\xf3n de URLs"}),(0,c.jsx)("h3",{children:"1. Acortar una URL"}),(0,c.jsxs)("p",{children:[(0,c.jsx)("strong",{children:"M\xe9todo:"})," POST"]}),(0,c.jsxs)("p",{children:[(0,c.jsx)("strong",{children:"Ruta:"})," ",(0,c.jsx)("code",{children:"/acortar"})]}),(0,c.jsxs)("p",{children:[(0,c.jsx)("strong",{children:"Descripci\xf3n:"})," Crea una URL corta asociada al usuario autenticado."]}),(0,c.jsx)("pre",{children:(0,c.jsx)("code",{children:'{\n      "original_url": "https://example.com",\n      "short_url": "my-custom-url"  // Opcional: Para crear una URL personalizada\n    }'})}),(0,c.jsx)("p",{children:(0,c.jsx)("strong",{children:"Headers:"})}),(0,c.jsx)("ul",{children:(0,c.jsx)("li",{children:(0,c.jsx)("code",{children:"x-api-key: <api_key>"})})}),(0,c.jsx)("p",{children:(0,c.jsx)("strong",{children:"Respuesta:"})}),(0,c.jsxs)("ul",{children:[(0,c.jsxs)("li",{children:[(0,c.jsx)("code",{children:"201:"})," ","{ original_url: '...', short_url: '...', expiration_date: null }"]}),(0,c.jsxs)("li",{children:[(0,c.jsx)("code",{children:"400:"})," ","{ error: 'Por favor ingrese una URL v\xe1lida' }"]}),(0,c.jsxs)("li",{children:[(0,c.jsx)("code",{children:"403:"})," ","{ error: 'Haz alcanzado el Limite de URLs Permitido por tu tipo de Subscripci\xf3n' }"]})]}),(0,c.jsx)("h3",{children:"2. Modificar una URL existente"}),(0,c.jsxs)("p",{children:[(0,c.jsx)("strong",{children:"M\xe9todo:"})," PUT"]}),(0,c.jsxs)("p",{children:[(0,c.jsx)("strong",{children:"Ruta:"})," ",(0,c.jsx)("code",{children:"/modificar/:short_url"})]}),(0,c.jsxs)("p",{children:[(0,c.jsx)("strong",{children:"Descripci\xf3n:"})," Permite modificar una URL corta existente por una nueva personalizada."]}),(0,c.jsx)("pre",{children:(0,c.jsx)("code",{children:'{\n      "new_short_url": "new-custom-url"\n    }'})}),(0,c.jsx)("p",{children:(0,c.jsx)("strong",{children:"Headers:"})}),(0,c.jsx)("ul",{children:(0,c.jsx)("li",{children:(0,c.jsx)("code",{children:"x-api-key: <api_key>"})})}),(0,c.jsx)("p",{children:(0,c.jsx)("strong",{children:"Respuesta:"})}),(0,c.jsxs)("ul",{children:[(0,c.jsxs)("li",{children:[(0,c.jsx)("code",{children:"200:"})," ","{ message: 'La URL corta fue modificada correctamente', short_url: '...', qr_code: '...' }"]}),(0,c.jsxs)("li",{children:[(0,c.jsx)("code",{children:"400:"})," ","{ error: 'La nueva URL corta ya existe' }"]}),(0,c.jsxs)("li",{children:[(0,c.jsx)("code",{children:"404:"})," ","{ error: 'La URL corta no existe' }"]})]}),(0,c.jsx)("h3",{children:"3. Eliminar una URL"}),(0,c.jsxs)("p",{children:[(0,c.jsx)("strong",{children:"M\xe9todo:"})," DELETE"]}),(0,c.jsxs)("p",{children:[(0,c.jsx)("strong",{children:"Ruta:"})," ",(0,c.jsx)("code",{children:"/eliminar/:short_url"})]}),(0,c.jsx)("p",{children:(0,c.jsx)("strong",{children:"Headers:"})}),(0,c.jsx)("ul",{children:(0,c.jsx)("li",{children:(0,c.jsx)("code",{children:"x-api-key: <api_key>"})})}),(0,c.jsx)("p",{children:(0,c.jsx)("strong",{children:"Respuesta:"})}),(0,c.jsxs)("ul",{children:[(0,c.jsxs)("li",{children:[(0,c.jsx)("code",{children:"200:"})," ","{ message: 'URL eliminada correctamente' }"]}),(0,c.jsxs)("li",{children:[(0,c.jsx)("code",{children:"404:"})," ","{ error: 'URL no encontrada o no autorizada' }"]})]})]}),(0,c.jsxs)("section",{className:"mb-5",children:[(0,c.jsx)("h2",{children:"Estad\xedsticas de clics"}),(0,c.jsx)("h3",{children:"1. Clics por dia"}),(0,c.jsxs)("p",{children:[(0,c.jsx)("strong",{children:"M\xe9todo:"})," GET"]}),(0,c.jsxs)("p",{children:[(0,c.jsx)("strong",{children:"Ruta:"})," ",(0,c.jsx)("code",{children:"/clicks/daily"})]}),(0,c.jsx)("p",{children:(0,c.jsx)("strong",{children:"Headers:"})}),(0,c.jsx)("ul",{children:(0,c.jsx)("li",{children:(0,c.jsx)("code",{children:"x-api-key: <api_key>"})})}),(0,c.jsx)("p",{children:(0,c.jsx)("strong",{children:"Query Parameters:"})}),(0,c.jsx)("pre",{children:(0,c.jsx)("code",{children:"url_id=<id de la URL>"})}),(0,c.jsx)("h3",{children:"1. Clics por hora"}),(0,c.jsxs)("p",{children:[(0,c.jsx)("strong",{children:"M\xe9todo:"})," GET"]}),(0,c.jsxs)("p",{children:[(0,c.jsx)("strong",{children:"Ruta:"})," ",(0,c.jsx)("code",{children:"/clicks/hourly"})]}),(0,c.jsx)("p",{children:(0,c.jsx)("strong",{children:"Headers:"})}),(0,c.jsx)("ul",{children:(0,c.jsx)("li",{children:(0,c.jsx)("code",{children:"x-api-key: <api_key>"})})}),(0,c.jsx)("p",{children:(0,c.jsx)("strong",{children:"Query Parameters:"})}),(0,c.jsx)("pre",{children:(0,c.jsx)("code",{children:"url_id=<id de la URL>"})}),(0,c.jsx)("p",{children:(0,c.jsx)("strong",{children:"Respuesta:"})}),(0,c.jsxs)("ul",{children:[(0,c.jsxs)("li",{children:[(0,c.jsx)("code",{children:"200:"})," Lista de horas con conteos de clics."]}),(0,c.jsxs)("li",{children:[(0,c.jsx)("code",{children:"500:"})," ","{ error: 'Error interno en el servidor' }"]})]}),(0,c.jsx)("p",{children:(0,c.jsx)("strong",{children:"Respuesta:"})}),(0,c.jsxs)("ul",{children:[(0,c.jsxs)("li",{children:[(0,c.jsx)("code",{children:"200:"})," Lista de horas con conteos de clics."]}),(0,c.jsxs)("li",{children:[(0,c.jsx)("code",{children:"500:"})," ","{ error: 'Error interno en el servidor' }"]})]}),(0,c.jsx)("h3",{children:"2. Total de clics"}),(0,c.jsxs)("p",{children:[(0,c.jsx)("strong",{children:"M\xe9todo:"})," GET"]}),(0,c.jsxs)("p",{children:[(0,c.jsx)("strong",{children:"Ruta:"})," ",(0,c.jsx)("code",{children:"/clicks/total"})]}),(0,c.jsxs)("p",{children:[(0,c.jsx)("strong",{children:"Descripci\xf3n:"})," Devuelve el total de clics de una URL espec\xedfica, agrupados por tiempo."]}),(0,c.jsx)("p",{children:(0,c.jsx)("strong",{children:"Headers:"})}),(0,c.jsx)("ul",{children:(0,c.jsx)("li",{children:(0,c.jsx)("code",{children:"x-api-key: <api_key>"})})}),(0,c.jsx)("p",{children:(0,c.jsx)("strong",{children:"Query Parameters:"})}),(0,c.jsx)("pre",{children:(0,c.jsx)("code",{children:"url_id=<id de la URL>"})}),(0,c.jsx)("p",{children:(0,c.jsx)("strong",{children:"Respuesta:"})}),(0,c.jsxs)("ul",{children:[(0,c.jsxs)("li",{children:[(0,c.jsx)("code",{children:"200:"})," Lista de fechas y conteos de clics."]}),(0,c.jsxs)("li",{children:[(0,c.jsx)("code",{children:"500:"})," ","{ error: 'Error interno en el servidor' }"]})]}),(0,c.jsx)("h2",{children:"Gestion de Qr"}),(0,c.jsx)("h3",{children:"1. Crear Qr"}),(0,c.jsx)("p",{children:(0,c.jsx)("strong",{children:"Metodo: PUT"})}),(0,c.jsxs)("p",{children:[(0,c.jsx)("strong",{children:"Ruta: "}),(0,c.jsx)("code",{children:"/generateQr/:short_url"})]}),(0,c.jsxs)("p",{children:[(0,c.jsx)("strong",{children:"Descripci\xf3n: "})," Crea Un Qr Para El Usuario y lo guarda en la base de datos"]}),(0,c.jsx)("p",{children:(0,c.jsx)("strong",{children:"Headers:"})}),(0,c.jsx)("ul",{children:(0,c.jsx)("li",{children:(0,c.jsx)("code",{children:"x-api-key: <api_key>"})})}),(0,c.jsx)("p",{children:(0,c.jsx)("strong",{children:"Query Parameters:"})}),(0,c.jsx)("pre",{children:(0,c.jsx)("code",{children:"short_url= <la url corta>"})}),(0,c.jsx)("p",{children:(0,c.jsx)("strong",{children:"Respuesta"})}),(0,c.jsxs)("ul",{children:[(0,c.jsxs)("li",{children:[(0,c.jsx)("code",{children:"200:"})," C\xf3digo QR generado correctamente"]}),(0,c.jsxs)("li",{children:[(0,c.jsx)("code",{children:"500:"})," Error interno del servidor"]})]})]}),(0,c.jsx)("footer",{className:"text-center mt-5",children:(0,c.jsxs)("p",{children:["\xa9 ",(new Date).getFullYear()," API Acortador de URLs"]})})]})},z=()=>{const[e,s]=(0,a.useState)(null),[r,t]=(0,a.useState)(!1),[n,i]=(0,a.useState)(null),l=localStorage.getItem("token"),o=(0,a.useCallback)((async()=>{t(!0),i(null);try{const e=await m.A.get("https://xtrs4.onrender.com/users/me",{headers:{Authorization:`Bearer ${l}`}});s(e.data.api_token||null)}catch(a){var e,r;i((null===(e=a.response)||void 0===e||null===(r=e.data)||void 0===r?void 0:r.error)||"Error al cargar la API Key")}finally{t(!1)}}),[l]);return(0,a.useEffect)((()=>{o()}),[o]),(0,c.jsxs)("div",{className:"container my-5",children:[(0,c.jsx)("h1",{className:"text-center mb-4",style:{marginTop:"150px"},children:"Gesti\xf3n de API Keys"}),(0,c.jsx)("p",{className:"text-center",children:"Aqu\xed puedes ver, generar o eliminar tus API Keys. Aseg\xfarate de mantenerlas seguras y no compartirlas con terceros."}),(0,c.jsx)("div",{className:"text-center mb-4",children:(0,c.jsx)("button",{className:"btn btn-primary btn-lg",onClick:async()=>{t(!0),i(null);try{const e=await m.A.post("https://xtrs4.onrender.com/generate-api-key",{},{headers:{Authorization:`Bearer ${l}`}});s(e.data.api_key)}catch(a){var e,r;i((null===(e=a.response)||void 0===e||null===(r=e.data)||void 0===r?void 0:r.error)||"Error al generar la API Key")}finally{t(!1)}},disabled:r,children:r?"Procesando...":"Generar Nueva API Key"})}),n&&(0,c.jsxs)("div",{className:"alert alert-danger",children:[(0,c.jsx)("strong",{children:"Error:"})," ",n]}),(0,c.jsxs)("div",{className:"card shadow",children:[(0,c.jsx)("div",{className:"card-header",children:(0,c.jsx)("h3",{children:"Mis API Keys"})}),(0,c.jsx)("div",{className:"card-body table-responsive",children:r?(0,c.jsx)("p",{children:"Cargando..."}):null!==e?(0,c.jsxs)("table",{className:"table table-hover",children:[(0,c.jsx)("thead",{children:(0,c.jsxs)("tr",{children:[(0,c.jsx)("th",{children:"API Key"}),(0,c.jsx)("th",{children:"Acciones"})]})}),(0,c.jsx)("tbody",{children:(0,c.jsxs)("tr",{children:[(0,c.jsx)("td",{style:{wordBreak:"break-word"},children:e}),(0,c.jsx)("td",{children:(0,c.jsx)("button",{className:"btn btn-danger btn-sm",onClick:()=>(async()=>{t(!0),i(null);try{await m.A.delete("https://xtrs4.onrender.com/api-keys/",{headers:{Authorization:`Bearer ${l}`}}),s(null)}catch(a){var e,r;i((null===(e=a.response)||void 0===e||null===(r=e.data)||void 0===r?void 0:r.error)||"Error al eliminar la API Key")}finally{t(!1)}})(e.api_token),disabled:r,children:"Eliminar"})})]})})]}):(0,c.jsx)("p",{className:"text-center",children:"No tienes API Keys generadas actualmente."})})]}),(0,c.jsxs)("div",{className:"alert alert-info mt-5",children:[(0,c.jsx)("strong",{children:"Nota:"})," Puedes renovar una API Key elimin\xe1ndola y generando una nueva."]})]})};const T=function(){return(0,c.jsx)("div",{className:"App",children:(0,c.jsx)(n.Kd,{children:(0,c.jsxs)(d,{children:[(0,c.jsx)(h,{}),(0,c.jsxs)(l.BV,{children:[(0,c.jsx)(l.qh,{path:"/",element:(0,c.jsx)(g,{})}),(0,c.jsx)(l.qh,{path:"/Subscripci\xf3n",element:(0,c.jsx)(N,{})}),(0,c.jsx)(l.qh,{path:"/login",element:(0,c.jsx)(y,{})}),(0,c.jsx)(l.qh,{path:"/register",element:(0,c.jsx)(k,{})}),(0,c.jsx)(l.qh,{path:"/perfil",element:(0,c.jsx)(R,{})}),(0,c.jsx)(l.qh,{path:"/estadisticas",element:(0,c.jsx)(E,{})}),(0,c.jsx)(l.qh,{path:"/resources/api-key",element:(0,c.jsx)(I,{})}),(0,c.jsx)(l.qh,{path:"/resources/generate-api-key",element:(0,c.jsx)(z,{})})]})]})})})};t.createRoot(document.getElementById("root")).render((0,c.jsx)(T,{}))}},s={};function r(a){var t=s[a];if(void 0!==t)return t.exports;var n=s[a]={exports:{}};return e[a].call(n.exports,n,n.exports,r),n.exports}r.m=e,(()=>{var e=[];r.O=(s,a,t,n)=>{if(!a){var i=1/0;for(d=0;d<e.length;d++){a=e[d][0],t=e[d][1],n=e[d][2];for(var l=!0,c=0;c<a.length;c++)(!1&n||i>=n)&&Object.keys(r.O).every((e=>r.O[e](a[c])))?a.splice(c--,1):(l=!1,n<i&&(i=n));if(l){e.splice(d--,1);var o=t();void 0!==o&&(s=o)}}return s}n=n||0;for(var d=e.length;d>0&&e[d-1][2]>n;d--)e[d]=e[d-1];e[d]=[a,t,n]}})(),r.n=e=>{var s=e&&e.__esModule?()=>e.default:()=>e;return r.d(s,{a:s}),s},(()=>{var e,s=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;r.t=function(a,t){if(1&t&&(a=this(a)),8&t)return a;if("object"===typeof a&&a){if(4&t&&a.__esModule)return a;if(16&t&&"function"===typeof a.then)return a}var n=Object.create(null);r.r(n);var i={};e=e||[null,s({}),s([]),s(s)];for(var l=2&t&&a;"object"==typeof l&&!~e.indexOf(l);l=s(l))Object.getOwnPropertyNames(l).forEach((e=>i[e]=()=>a[e]));return i.default=()=>a,r.d(n,i),n}})(),r.d=(e,s)=>{for(var a in s)r.o(s,a)&&!r.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:s[a]})},r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),r.o=(e,s)=>Object.prototype.hasOwnProperty.call(e,s),r.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.p="./",(()=>{var e={792:0,156:0};r.O.j=s=>0===e[s];var s=(s,a)=>{var t,n,i=a[0],l=a[1],c=a[2],o=0;if(i.some((s=>0!==e[s]))){for(t in l)r.o(l,t)&&(r.m[t]=l[t]);if(c)var d=c(r)}for(s&&s(a);o<i.length;o++)n=i[o],r.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return r.O(d)},a=self.webpackChunkacortador_url=self.webpackChunkacortador_url||[];a.forEach(s.bind(null,0)),a.push=s.bind(null,a.push.bind(a))})();var a=r.O(void 0,[699,8,156],(()=>r(164)));a=r.O(a)})();
//# sourceMappingURL=main.js.map