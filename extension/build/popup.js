/*! For license information please see popup.js.LICENSE.txt */
(()=>{"use strict";var e={427:(e,r,a)=>{var t=a(43),s=a(950),o=a(213),n=a(579);const l=()=>{const[e,r]=(0,t.useState)(!!localStorage.getItem("token")),[a,s]=(0,t.useState)(""),[l,i]=(0,t.useState)(""),[c,u]=(0,t.useState)(""),[d,p]=(0,t.useState)(""),[m,h]=(0,t.useState)(""),[v,f]=(0,t.useState)(""),[x,b]=(0,t.useState)("");return(0,n.jsx)("div",{className:"popup-container",children:e?(0,n.jsxs)("div",{className:"url-shortener",children:[(0,n.jsx)("h2",{className:"title",children:"Acortar URL"}),(0,n.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),u(""),f(""),b("");const r=localStorage.getItem("token");if(r)try{const e=await o.A.post("https://xtrs4.onrender.com/acortar",{original_url:d,short_url:m||void 0},{headers:{Authorization:`Bearer ${r}`}});f(e.data.short_url),b("URL acortada con \xe9xito")}catch(s){var a,t;u((null===(a=s.response)||void 0===a||null===(t=a.data)||void 0===t?void 0:t.error)||"Error al intentar acortar la URL.")}else u("Debes iniciar sesi\xf3n primero.")},children:[(0,n.jsxs)("div",{className:"form-group",children:[(0,n.jsx)("label",{className:"label",children:"URL Original:"}),(0,n.jsx)("input",{type:"text",value:d,onChange:e=>p(e.target.value),required:!0,className:"input"})]}),(0,n.jsxs)("div",{className:"form-group",children:[(0,n.jsx)("label",{className:"label",children:"URL Personalizada (Opcional):"}),(0,n.jsx)("input",{type:"text",value:m,onChange:e=>h(e.target.value),className:"input"})]}),(0,n.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Acortar"})]}),c&&(0,n.jsx)("p",{className:"error",children:c}),x&&(0,n.jsx)("p",{className:"success",children:x}),v&&(0,n.jsxs)("p",{className:"shortened-url",children:["URL Acortada:"," ",(0,n.jsx)("a",{href:`https://xtrs4.onrender.com/${v}`,target:"_blank",rel:"noopener noreferrer",className:"url-link",children:`https://xtrs4.onrender.com/${v}`})]}),(0,n.jsx)("button",{onClick:()=>{localStorage.removeItem("token"),r(!1)},className:"btn btn-secondary",children:"Cerrar Sesi\xf3n"})]}):(0,n.jsxs)("div",{className:"login",children:[(0,n.jsx)("h2",{className:"title",children:"Iniciar Sesi\xf3n"}),(0,n.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),u("");try{const e=(await o.A.post("https://xtrs4.onrender.com/users/login",{username:a,password:l})).data.token;localStorage.setItem("token",e),r(!0)}catch(n){var t,s;u((null===(t=n.response)||void 0===t||null===(s=t.data)||void 0===s?void 0:s.error)||"Error al iniciar sesi\xf3n.")}},children:[(0,n.jsxs)("div",{className:"form-group",children:[(0,n.jsx)("label",{className:"label",children:"Nombre De Usuario:"}),(0,n.jsx)("input",{type:"text",value:a,onChange:e=>s(e.target.value),required:!0,className:"input"})]}),(0,n.jsxs)("div",{className:"form-group",children:[(0,n.jsx)("label",{className:"label",children:"Contrase\xf1a:"}),(0,n.jsx)("input",{type:"password",value:l,onChange:e=>i(e.target.value),required:!0,className:"input"})]}),(0,n.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Iniciar Sesi\xf3n"})]}),c&&(0,n.jsx)("p",{className:"error",children:c})]})})};s.createRoot(document.getElementById("root")).render((0,n.jsx)(l,{}))},153:(e,r,a)=>{var t=a(43),s=Symbol.for("react.element"),o=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,l=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function c(e,r,a){var t,o={},c=null,u=null;for(t in void 0!==a&&(c=""+a),void 0!==r.key&&(c=""+r.key),void 0!==r.ref&&(u=r.ref),r)n.call(r,t)&&!i.hasOwnProperty(t)&&(o[t]=r[t]);if(e&&e.defaultProps)for(t in r=e.defaultProps)void 0===o[t]&&(o[t]=r[t]);return{$$typeof:s,type:e,key:c,ref:u,props:o,_owner:l.current}}r.jsx=c,r.jsxs=c},43:(e,r,a)=>{e.exports=a(202)},579:(e,r,a)=>{e.exports=a(153)}},r={};function a(t){var s=r[t];if(void 0!==s)return s.exports;var o=r[t]={exports:{}};return e[t](o,o.exports,a),o.exports}a.m=e,(()=>{var e=[];a.O=(r,t,s,o)=>{if(!t){var n=1/0;for(u=0;u<e.length;u++){t=e[u][0],s=e[u][1],o=e[u][2];for(var l=!0,i=0;i<t.length;i++)(!1&o||n>=o)&&Object.keys(a.O).every((e=>a.O[e](t[i])))?t.splice(i--,1):(l=!1,o<n&&(n=o));if(l){e.splice(u--,1);var c=s();void 0!==c&&(r=c)}}return r}o=o||0;for(var u=e.length;u>0&&e[u-1][2]>o;u--)e[u]=e[u-1];e[u]=[t,s,o]}})(),a.d=(e,r)=>{for(var t in r)a.o(r,t)&&!a.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:r[t]})},a.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),a.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e={887:0,156:0};a.O.j=r=>0===e[r];var r=(r,t)=>{var s,o,n=t[0],l=t[1],i=t[2],c=0;if(n.some((r=>0!==e[r]))){for(s in l)a.o(l,s)&&(a.m[s]=l[s]);if(i)var u=i(a)}for(r&&r(t);c<n.length;c++)o=n[c],a.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return a.O(u)},t=self.webpackChunkacortador_url=self.webpackChunkacortador_url||[];t.forEach(r.bind(null,0)),t.push=r.bind(null,t.push.bind(t))})();var t=a.O(void 0,[699,156],(()=>a(427)));t=a.O(t)})();
//# sourceMappingURL=popup.js.map